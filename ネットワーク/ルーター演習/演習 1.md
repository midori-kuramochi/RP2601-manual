# 演習1
PC2台をRouterを挟んで別のネットワークに所属させましょう。
PC2台にはそれぞれ別のネットワークのIPアドレスを割り振り、Routerを挟んだら通信できることを確認しましょう。

---

## 1. ネットワーク構成（固定）

### 1-1. 接続
- PC0 ↔ rt0 Gi0/0/0  
- PC1 ↔ rt0 Gi0/0/1

![alt text](image-3.png)

### 1-2. アドレス設計
- rt0（ルータ）
  - Gi0/0/0：`172.31.0.1/24`
  - Gi0/0/1：`172.31.1.1/24`
- PC0：`172.31.0.2/24`
  - Default Gateway：`172.31.0.1`
- PC1：`172.31.1.2/24`
  - Default Gateway：`172.31.1.1`

### 1-3. ゴール
- PC0 ↔ PC1 間で ping が成功（双方向）
- Routerが2つのネットワークを **Connected（直結）** として持つことを確認

---

## 2. PCのIP設定（Packet Tracer）
操作：PC → **Desktop** → **IP Configuration**

### 2-1. PC0
- IP Address：`172.31.0.2`
- Subnet Mask：`255.255.255.0`
- Default Gateway：`172.31.0.1`

### 2-2. PC1
- IP Address：`172.31.1.2`
- Subnet Mask：`255.255.255.0`
- Default Gateway：`172.31.1.1`

### 2-3. PC側確認（必須）
各PC：Desktop → **Command Prompt** を開き、実行

```text
ipconfig
```

期待（例：PC0）：
- IPv4 Address：172.31.0.2
- Subnet Mask：255.255.255.0
- Default Gateway：172.31.0.1

---

## 3. ルーター設定（rt0）

### 3-1. 特権EXEC → グローバル設定モード
```ios
Router> enable
Router# configure terminal
```

### 3-2. Gi0/0/0 に IP 設定＋有効化（PC0側）
```ios
Router(config)# interface gigabitEthernet 0/0/0
Router(config-if)# ip address 172.31.0.1 255.255.255.0
Router(config-if)# no shutdown
```

### 3-3. Gi0/0/1 に IP 設定＋有効化（PC1側）
```ios
Router(config)# interface gigabitEthernet 0/0/1
Router(config-if)# ip address 172.31.1.1 255.255.255.0
Router(config-if)# no shutdown
Router(config-if)# end
```

### 3-4. IF状態確認（必須）
```ios
Router# show ip interface brief
```

期待：
```text
GigabitEthernet0/0/0   172.31.0.1  YES manual  up  up
GigabitEthernet0/0/1   172.31.1.1  YES manual  up  up
```

### 3-5. ルーティング確認（推奨）
この演習は静的ルート不要（ルータが2ネットワークに直結しているため）。

```ios
Router# show ip route
```

期待イメージ：
- `C 172.31.0.0/24 is directly connected, GigabitEthernet0/0/0`
- `C 172.31.1.0/24 is directly connected, GigabitEthernet0/0/1`

---

## 4. 疎通確認（ping）
### 4-1. PC0 → PC1
PC0：Desktop → **Command Prompt**
```text
ping 172.31.1.2
```

### 4-2. PC1 → PC0
PC1：Desktop → **Command Prompt**
```text
ping 172.31.0.2
```

補足：
- 1回目はARP解決の影響で落ちることがあるため、**2回目以降も確認**する

---

## 5. 失敗時の切り分け（最短）
1. **ケーブル接続**（PC0—rt0 Gi0/0/0、PC1—rt0 Gi0/0/1）
2. **Router IFが up/up**：`show ip interface brief`
3. **PCのIP/GWが正しい**：PCの `ipconfig`
4. **PC → デフォルトゲートウェイへ ping**
   - PC0：`ping 172.31.0.1`７７７７７７７７７７７７７７
   - PC1：`ping 172.31.1.1`
5. **RouterのConnectedルートが2本ある**：`show ip route`

---

## 6. 完了条件（チェックリスト）
- [ ] PC0：IP `172.31.0.2/24`、GW `172.31.0.1`
- [ ] PC1：IP `172.31.1.2/24`、GW `172.31.1.1`
- [ ] rt0：Gi0/0/0 と Gi0/0/1 が up/up
- [ ] PC0 → PC1 が ping 成功
- [ ] PC1 → PC0 が ping 成功

---
---